<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>東吳大學學生會 - 特約商店</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="favicon.PNG" type="image/x-icon">
    
    <style>
        /* 這裡是新的 CSS 樣式 */
        .store-list {
            display: flex;
            flex-direction: column; /* 垂直排列 */
            margin: 20px; /* 增加間距 */
        }

        .store-item {
            display: flex; /* 使用 Flexbox 進行布局 */
            margin: 10px 0; /* 每個項目之間的間距 */
            padding: 15px; /* 內邊距 */
            border-radius: 10px; /* 圓角 */
            color: white; /* 將文字顏色設為白色 */
            background-color: rgba(0, 0, 0, 0); /* 背景顏色為半透明黑色 */
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* 增加陰影效果 */
            text-align: left; /* 文字左對齊 */
            width: 100%; /* 設置寬度為100% */
            max-width: 800px; /* 設置最大寬度 */
        }

        .store-item .button-container {
            flex: 2; /* 按鈕佔左邊的2格 */
            display: flex;
            align-items: center;
            justify-content: center; /* 按鈕居中 */
        }

        .store-item .content-container {
            flex: 3; /* 特約內容佔右邊的3格 */
            display: flex;
            flex-direction: column; /* 垂直排列 */
            justify-content: space-between; /* 分開特約內容和地址 */
            padding-left: 15px; /* 增加左邊距 */
        }

        .store-item h2 {
            margin: 0; /* 標題的上下邊距設為0 */
            font-size: 2.5em; /* 最大字體 */
            font-family: 'Georgia', serif; /* 設置優雅的字體 */
            margin-bottom: 10px; /* 商家名稱和按鈕之間的間距 */
        }

        .store-item a {
            text-decoration: none; /* 移除底線 */
            font-size: 1.5em; /* 最大字體 */
            color: #312c86; /* 設置字體顏色 */
            font-weight: 1000;
            font-family: 'Georgia', serif; /* 設置優雅的字體 */
            transition: color 0.3s, background-color 0.3s, box-shadow 0.3s; /* 增加過渡效果 */
            padding: 40px; /* 按鈕內邊距 */
            border-radius: 10px; /* 按鈕圓角 */
            background-color: #fede5b; /* 按鈕背景顏色 */
            display: flex; /* 按鈕使用Flexbox顯示 */
            align-items: center; /* 垂直居中 */
            justify-content: center; /* 水平居中 */
            width: 75%; /* 按鈕寬度 */
            height: AUTO;
            position: relative; /* 使得絕對定位的元素相對於此元素 */
            overflow: hidden; /* 隱藏超出範圍的部分 */
        }

        .store-item a::after {
            content: ''; /* 添加內容以生成閃爍效果 */
            position: absolute;
            top: 50%;
            left: 50%;
            width: 300%;
            height: 300%;
            background: rgba(230, 230, 230, 0.137);
            border-radius: 50%; /* 圓形 */
            transform: translate(-50%, -50%) scale(0); /* 初始縮放為0 */
            transition: transform 0.5s; /* 增加過渡效果 */
            pointer-events: none; /* 防止事件影響到該元素 */
        }

        .store-item a:hover::after {
            transform: translate(-50%, -50%) scale(1); /* 懸停時縮放至1 */
        }

        .store-item a:hover {
            color: #3f3f3f; /* 懸停時字體顏色 */
            background-color: #000000; /* 懸停時按鈕背景顏色 */
        }

        .store-item .address {
            color: #ecff80; /* 設置地址顏色 */
            font-size: 1.5em; /* 設置地址字體大小 */
        }

        .store-item .offer {
            color: #e0e0e0; /* 設置特約內容顏色 */
            margin-top: 10px; /* 特約內容和地址之間的間距 */
        }
        
    </style>
</head>
<body>
    <div class="container">
        <!-- 漢堡選單按鈕 -->
        <div class="hamburger-menu" id="hamburger-menu">
            <span></span>
            <span></span>
            <span></span>
        </div>

        <nav class="sidebar" id="sidebar">
            <div class="logo">
                <img src="logo.png" alt="Logo">
                <div class="site-name"></div>
            </div>
            <ul class="nav-links">
                <li><a href="https://linktr.ee/scusa_" target="_blank"><img src="linktree-icon.png" alt="連結樹" /></a></li>
                <li><a href="https://www.facebook.com/SUSAweb/?locale=zh_TW" target="_blank"><img src="facebook-icon.png" alt="臉書" /></a></li>
                <li><a href="https://www.instagram.com/scusa68th/" target="_blank"><img src="instagram-icon.png" alt="Instagram" /></a></li>
                <li class="dropdown-parent">
                    <a href="#" class="dropdown-toggle">海報欄位租借</a>
                    <ul class="dropdown-content">
                        <li><a href="https://docs.google.com/forms/d/1BA6RxfE57eXTvHCHYpx55J5j8F4wpPpaXkV1RwSE-bI/edit?usp=forms_home">雙溪校區</a></li>
                        <li><a href="https://docs.google.com/forms/d/e/1FAIpQLSfLA7QgEmYeEBLxYxqeSj-yorHe_RddVuxxgSWnGQg75zp00w/viewform?usp=sf_link">城中校區</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <div class="main-content">
            <div class="dropdown">
                <select id="pages" onchange="location = this.value;">
                    <option value="index.html">首頁</option>
                    <option value="about.html">關於我們</option>
                    <option value="shop.html" selected>特約商店</option>
                </select>
            </div>

            <div class="map-container" style="margin-bottom: 20px;">
                <iframe src="https://www.google.com/maps/d/u/1/embed?mid=1avnXDTchyZ88tcKh8o1w49gJJrFCono&ehbc=2E312F" width="1200" height="800" style="border: 0;"></iframe>
            </div>

            <div class="shop-logo">
                <img src="shop-main-logo.png" alt="特約商店主圖示" style="width: 100%; max-width: 600px; margin-bottom: 20px;">
            </div>

            <!-- 特約商店表格 -->
            <div class="store-list" id="store-list">
                <!-- 特約商店內容將自動載入 -->
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        const hamburgerMenu = document.getElementById('hamburger-menu');
        const sidebar = document.getElementById('sidebar');

        hamburgerMenu.addEventListener('click', function() {
            sidebar.classList.toggle('active');
            document.querySelector('.main-content').style.marginLeft = sidebar.classList.contains('active') ? '200px' : '0';
        });

        document.addEventListener('DOMContentLoaded', function() {
            loadStores(); // 載入特約商店
        });

        function loadStores() {
            const sheetId = '1mJ2iq5dXHKU4nmY3lDkObLqpH_Cl6MakPZ6nXHfNKKk';
            const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:csv`;

            fetch(url)
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.text();
                })
                .then(data => {
                    const rows = data.split('\n').slice(1);
                    const storeList = document.getElementById('store-list');
                    storeList.innerHTML = '';

                    rows.forEach((row) => {
                        const columns = row.split(',').map(col => col.replace(/"/g, '').trim());
                        const storeItem = document.createElement('div');
                        storeItem.classList.add('store-item');

                        // 設置商家名稱、地址和特約內容
                        const storeName = columns[0]; // 商家名稱
                        const storeLink = columns[3]; // 超連結
                        const storeAddress = columns[1]; // 商家地址
                        const storeOffer = columns[2]; // 特約內容

                        // 創建按鈕
                        const buttonContainer = document.createElement('div');
                        buttonContainer.classList.add('button-container');
                        const linkElement = document.createElement('a');
                        linkElement.href = storeLink;
                        linkElement.target = '_blank';
                        linkElement.textContent = storeName;
                        buttonContainer.appendChild(linkElement);

                        // 創建特約內容和地址的容器
                        const contentContainer = document.createElement('div');
                        contentContainer.classList.add('content-container');
                        const offerElement = document.createElement('div');
                        offerElement.classList.add('offer');
                        offerElement.textContent = storeOffer;
                        const addressElement = document.createElement('div');
                        addressElement.classList.add('address');
                        addressElement.textContent = storeAddress;

                        // 將元素添加到商店項目
                        contentContainer.appendChild(offerElement);
                        contentContainer.appendChild(addressElement);
                        storeItem.appendChild(buttonContainer);
                        storeItem.appendChild(contentContainer);
                        storeList.appendChild(storeItem);
                    });
                })
                .catch(error => console.error('Error loading store data:', error));
        }
    </script>
</body>
</html>
